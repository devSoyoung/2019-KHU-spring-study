# 5.3 서비스 추상화와 단일 책임 원칙

### 수직 수평계층 구조와 의존관계

추상화 기법을 통해 특정 기술환경에 종속되지 않는 코드르 만들었다. 

UserDao나 UserService는 각각 담당하는 코드의 기능적인 관심에 따라 분리되었다. 같은 애플리케이션 로직을 담은 코드지만 내용에 따라 분리했다. 같은 계층에서 **수평적인 분리**라고 할 수 있다.

![tobis-spring-3 1-vol1-chapter5-2](https://user-images.githubusercontent.com/18159012/38937634-9b28516e-435e-11e8-9a7a-07e52cf48423.png)

트랜잭션의 추상화는 이와 좀 다르다. 어플리케이션의 비즈니스 로직과 그 하위에서 동작하는 로우레벨의 트랜잭션 기술이라는 아예 다른 계층을 특성을 갖는 코드를 분리한 것이기 때문이다.

위와같이 어플리케이션 로직의 종류에 따른 수평적인 구분이든, 로직과 기술이라는 수직적인 구분이든 모두 결합도가 낮으며, 서로 영향을 주지 않고 자유롭게 확장될 수 있는 구조를 만들 수 있는 데는 스프링의 DI가 중요한 역할을 하고 있다. **DI의 가치는 이렇게 관심, 책임, 성격이 다른 코드를 깔끔하게 분리하는 데 있다.**

### 단일 책임원칙

적절한 분리가 가져오는 특징은 객체지향 설계 원칙 중 하나인 단일 책임 원칙 Single responsibility Principle으로 설명할 수 있다. 단일 책임 원칙은 하나의 모듈은 한 가지 책임을 가져야 한다는 의미다.

앱이 커지고 운영중인 경우, 수정대상이 명확하게 분리되어 있지 않다면 많은 시간이 필요할 뿐 아니라 실수가 일어날 수도 있다.

* 즉 스펙이 변경되면 수정 대상을 명확하게 알 수 있다.



